Для этого нам нужно выполнить две задачи:

Найти способ правильно токенизировать, а затем проанализировать имя молекулы, 
используя предоставленную информацию (нам придется выяснить правильную грамматику).
Затем создать полную необработанную формулу
и вернуть в виде словаря (ключ: химический символ в виде строки, значение: номер этого химического элемента в молекуле).
Все входы будут действительными.

Чтобы помочь нам в этой задаче, предусмотрено несколько вещей:

Никаких знаний по химии не требуется: всю необходимую информацию мы найдем ниже. 
(Примечание: это очень длинно, да, 
но подавляющее большинство необходимых строк уже предоставлено в настройке решения с использованием разных списков. 
Используйте их по своему усмотрению)
Чтобы построить необработанную формулу, может быть полезно быть химиком. 
Если вы не химик: вам просто нужно определить закономерности с помощью различных тестов. 
Они специально разработаны таким образом, чтобы эти шаблоны можно было легко найти. 
(Примечание: соответствующие академические знания касаются «степеней ненасыщенности» молекулы, если вам это интересно. 
Если вы уже это знаете, это, конечно, поможет, но если нет, просто сосредоточьтесь на работа по распознаванию образов, 
прохождение пробных тестов, а не попытка понять понятие с помощью вики-статьи (что довольно плохо в этом))
Все молекулы будут нарисованы в консоли (кроме случайных тестов и самых последних фиксированных тестов), 
чтобы вы могли видеть, что именно. 
(Примечание: из-за необходимости escape-символов '' для представления некоторых 
границ строки в тестовых примерах могут быть не очень читабельными. Лучше смотреть на версию, напечатанную в консоли)

Спецификации тестов:
40 пробных тестов
около 85 фиксированных тестов
5500 случайных тестов


Вот что нам нужно знать о номенклатуре органических соединений.

Здесь мы действительно получим МНОГО информации. 
Имейте в виду, что мы получим гораздо больше, чем нам на самом деле нужно для решения задачи, 
чтобы мы могли найти свой путь в именах, если утверждение не удается. 
Так что не надо уклонятся только из-за этого... ;)

Мы найдем несколько резюме всей информации в конце описания, чтобы помочь нам самим же найти свой путь во всем этом.
И не забудьте прочитать самый последний раздел, хорошо названный «Подводные камни», внизу описания.

На заметку химикам или тем, кто заморачивается:

Имена, с которыми вы столкнетесь, всегда будут «правильными», 
но они не всегда будут «хорошими», особенно в случайных тестах. 
Это означает, что они всегда будут представлять реальную молекулу/поддаваться анализу с применением приведенных ниже правил, 
но они не могут быть настоящим названием этой молекулы 
(например: неправильный выбор основной цепи, инверсия нумерации позиций,...). 
Те, кто хоть немного разбирается в номенклатуре, могли их увидеть. Для остальных не беспокойтесь об этом, 
просто применяйте данные правила;)
Чтобы сделать задачу управляемой, имея более согласованные строки для имен, 
позиции групп/разветвлений будут записаны в соответствии с французской номенклатурой. 
То есть ожидать «бутан-2-ол» вместо «2-бутанол» и так далее.

@ Алканы
	@ Линейные Алканы:
		Название линейных молекул, таких как в приведенных ниже примерах, просто дается «радикалом», 
		представляющим их количество атомов углерода, за которым следует суффикс ан: радикал + "ан"

		methane = meth + ane = 1 carbon   ->  CH4
		ethane  = eth + ane  = 2 carbons  ->  CH3-CH3
		propane = ...                     ->  CH3-CH2-CH3
		butane  = ...                     ->  CH3-CH2-CH2-CH3
		...

RADICALS = ["meth",  "eth",   "prop",   "but",      "pent",     "hex",     "hept",     "oct",     "non",    "dec",  
            "undec", "dodec", "tridec", "tetradec", "pentadec", "hexadec", "heptadec", "octadec", "nonadec"]

	@ Разветвленные алканы
		Если молекула не является линейной, мы можем назвать ее, выбрав основную цепь, 
		а затем добавив алкильные группы в начале названия. Нам не нужно вообще беспокоиться о том, 
		как выбрана основная цепочка или как выполняется нумерация.

		Алкильные группы определяются следующим образом:
		позиции + «-» + множитель + радикал + «ил» 
		(где позиции — это числа, соединенные запятыми; множители объясняются сразу после)

		CH3-CH-CH2-CH3    -> основная цепь: как "бутан"
 		    |
    		CH3           -> алкил: как «метан», в положении 2 (в основной цепи) => «2-метил»
                            (без множителя, так как у вас есть только одна метильная группа)
    		=> 2-methylbutane

	@ Несколько ответвлений: множители
		Если у нас есть несколько одинаковых алкильных групп в разных местах, должен добавляться множитель:
		
		CH3-CH-CH-CH2-CH-CH3    => 2,3,5-trimethylhexane
  	     	|  |      |                  ^^^
		  CH3  CH3    CH3

		CH3-CH-CH-CH2-CH-CH3    => 3-ethyl-2,5-dimethylhexane
		    |  |      |                        ^^
		  CH3  CH3    CH3
		       |
		       CH3

		Не нужно знать порядок алкилов в названии.
		Вот полный список множителей (от 2 до 19, предусмотренных в настройках решения):
MULTIPLIERS = ["di",     "tri",     "tetra",     "penta",     "hexa",     "hepta",     "octa",     "nona",     "deca", 
              "undeca", "dodeca", "trideca", "tetradeca", "pentadeca", "hexadeca", "heptadeca", "octadeca", "nonadeca"]

@ Циклические молекулы
	Когда цепь или группа имеют циклическую форму, 
	просто надо добавить префикс цикло перед радикальной частью 
	(как для основной цепи, так и для алкилов):

	CH2-CH2
	|   |                                => cyclobutane
	CH2-CH2

	CH3-CH-CH2-CH2-CH2-CH2-CH-CH3
	    |                  |
	    CH                 CH           => 2,7-dicyclobutyloctane
	   / \                / \                    ^^^^^
	H2C   CH2          H2C   CH2
	   \ /                \ /
	    CH2                CH2

	Приставка «цикло» считается частью радикала, к которому она «применяется».
	То есть, если часть полной молекулы является цикличной, 
	эта часть считается прикрепленной к основной цепи по одному из множитей. 
	Таким образом, в случае разветвлений порядок имени следующий:

	CH2-CH-CH2-CH3                 The main chain being the cyclic one:
	|   |                                => 1-ethylcyclobutane
	CH2-CH2                                        ^^^^^

@ Алкены и Алкины
	алкен: двойная связь между атомами углерода. Замените суффикс ан на «-» + позиции + «-» + множитель + «ен» 
	(дана только позиция первого атома углерода, удерживающего двойную связь)
	алкин: тройная связь между атомами углерода. Замените суффикс ane на «-» + позиции + «-» + множитель + «yne» 
	(дана только позиция первого атома углерода, удерживающего тройную связь)
	Если в молекуле есть и алкены, и алкины, вы заменяете ан на ...ен...ин (сначала всегда идут двойные связи):

	CH3-CH=CH-CH2-CH2-CH3    =>  hex-2-ene
	CH3-CH=CH-CH2-CH=CH2     =>  hex-1,4-diene (warning: the numbering is reversed, here)

	CH3-C{=}C-CH2-CH2-CH3    =>  hex-2-yne  ('{=}' используется для представления тройных связей)

	Можем сделать микс:

	CH3-C{=}C-CH=CH-C{=}C-C{=}C-CH=CH-CH2-CH3
	    => tridec-4,10-dien-2,6,8-triyne

	Или можем найти такой микс с разветвлением:

	CH3-C{=}C-CH-C{=}C-CH2-CH2-CH=CH-CH3    ->  main chain
	          |
	          CH2-CH=CH-CH=CH-CH2-CH3       ->  ramification (note: position 1 is always the C bounded to the main chain)
	    => 4-hept-2,4-dienylundec-9-en-2,5-diyne

@ Разветвление разветвлении
	А вот и «забавная» работа.
	Если само разветвление разветвлено, применяются те же правила, что и выше. 
	Но для обозначения более низкого уровня вокруг префикса этого низкого уровня используются квадратные скобки, 
	причем эта часть ставится непосредственно перед радикальной частью алкильной группы на текущем уровне.
	Ну, пример может быть лучше:
	позиции + "-" + множитель + "[" + субветвление + "]" + радикал + "ил"

	Примеры:
		Без субразветвления:

			CH2-CH-CH2-CH2-CH2-CH2-CH2-CH2-CH3     => 1-heptylcyclobutane
			|   |
			CH2-CH2

		С субразветвлением:

							CH2-CH2-CH3
							|
			CH2-CH-CH2-CH2-CH-CH2-CH2-CH2-CH3      => 1-[3-propyl]heptylcyclobutane
			|   |
			CH2-CH2

							CH2-CH2-CH3
							|
			CH2-CH-CH2-CH2-CH-CH2-CH2-CH2-CH3
			|   |                                  => 1,2-di[3-propyl]heptylcyclobutane
			CH2-CH-CH2-CH2-CH-CH2-CH2-CH2-CH3
							|                   (Note here: "1,2-di" applies to the whole "[3-propyl]heptyl" part)
							CH2-CH2-CH3

		Это происходит рекурсивно на любой глубине:

				CH3        CH3
				|          |
				CH2    CH2-CH-CH3
				|      |
		CH2-CH-CH-CH2-CH-CH2-CH2-CH2-CH3
		|   |                                  => 1,2-di[1-ethyl-3-[2-methyl]propyl]heptylcyclobutane
		CH2-CH-CH-CH2-CH-CH2-CH2-CH2-CH3
				|      |
				CH2    CH2-CH-CH3
				|          |
				CH3        CH3

@ Раздел "подводные камни"
	@ Исключения некоторых позиций
		Химики явно не компьютерщики (или, по крайней мере, те, кто установил правила номенклатуры).
		Часто бывает, что они убирают какие-то крошечные части имени, 
		если считают их бессмысленными или громоздкими, 
		или даже добавляют некоторые, если находят это более красивым, или слышимым, или т.п.
		Ради нас самих мы рассмотрим только один из этих случаев: 
		выпадение положений групп или функций на первом углероде цепи (но присутствующих исключительно в этом положении):

		"cyclobutan-1-ol"        =>   "cyclobutanol"
		"cyclobutan-1,1-diol"    =>   "cyclobutandiol"

		"cyclobutan-1,2-diol"    =>   "cyclobutan-1,2-diol"  (no elision because not only "one(s)", here)

	Обратим внимание, что исключение не является систематическим, поэтому ваш код должен будет обрабатывать оба случая.

	@ Неоднозначные совпадения при разборе названия молекулы
		Если столкнемся с некоторыми неоднозначными случаями, которые не могут быть четко идентифицированы, 
		предположим, что мы получили максимально длинное имя цепочки. Но ТОЛЬКО если совпадение неоднозначное!
		Некоторые примеры:

		"2,3,5-tridecyl" 
		=>НЕ двусмысленно: это три «децильных» цепи

		"2-tridecyl"      
		=>НЕ двусмысленно: это один «тридецил» в положении 2.

		"tridecylamine"   
		=>НЕОДНОЗНАЧНО, потому что аминовая функция может содержать до 3 цепей, 
						поэтому предположим, что это одна «тридециловая» цепь.